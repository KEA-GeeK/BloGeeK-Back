<!DOCTYPE html>
<html lang="ko">
<head>
    <title>게시글 작성</title>
    <script>
        // 게시글 작성 함수
        async function writePost() {
            // 입력된 제목과 내용을 가져옵니다.
            const title = document.getElementById("title").value;
            const content = document.getElementById("content").value;

            // fetch API를 사용하여 POST 요청을 보냅니다.
            const response = await fetch("/api/posts/write", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ title, content }) // JSON 형식으로 데이터를 전송
            });

            // 응답을 처리합니다.
            if (response.ok) {
                alert("게시글이 작성되었습니다.");
                window.location.href = "/";
            } else {
                alert("게시글 작성에 실패했습니다.");
            }
        }
    </script>
</head>
<body>
<h1>게시글 작성</h1>
<div class="form-group">
    <label for="title">제목:</label><br>
    <input type="text" id="title" name="title" required><br><br>

    <label for="content">내용:</label><br>
    <textarea id="content" name="content" rows="4" cols="50" required></textarea><br><br>
</div>
<!-- JavaScript 함수를 호출 -->
<button onclick="writePost()">작성하기</button>
</body>
</html>
