<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Post Detail</title>
    <script>
        // 페이지가 로딩되면 실행될 함수
        window.addEventListener("DOMContentLoaded", async () => {
            // URL로부터 게시글 ID 가져오기
            const pathParts = window.location.pathname.split('/');
            const postId = pathParts[pathParts.length - 1];

            // fetch API로 게시글 정보 가져오기
            const response = await fetch(`/api/posts/${postId}`);
            const post = await response.json();

            // 가져온 게시글 정보를 HTML 요소에 적용하기
            document.getElementById("postTitle").innerText = post.post_title;
            document.getElementById("postDate").innerText = `업로드 일시: ${new Date(post.create_at).toLocaleDateString()} ${new Date(post.create_at).toLocaleTimeString()}`;
            document.getElementById("postContents").innerText = post.contents;
        });
    </script>
</head>
<body>
<div class="containers">
    <div>
        <h1 id="postTitle"></h1>
        <p id="postDate"></p>
        <h2 id="postContents"></h2>
    </div>
</div>
</body>
</html>
